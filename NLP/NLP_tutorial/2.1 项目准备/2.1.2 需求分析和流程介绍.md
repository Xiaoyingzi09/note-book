# 需求分析和流程介绍

## 目标

1. 能够说出实现聊天机器人的需求
2. 能够说出实现聊天机器人的流程



## 1. 需求分析

在黑马头条的小智同学板块实现聊天机器人，能够起到`智能客服`的效果，能够为使用app的用户解决基础的问题，而不用额外的人力。

但是由于语料的限制，所以这里使用了编程相关的问题，能够回答类似：`python是什么`，`python有什么优势`等问题

## 2. 效果演示

![](..\images\2.1\app截图.png)

## 3. 实现流程

#### 3.1 整体架构

![](..\images\2.1\整体架构.png)

整个流程的描述如下：

1. 接受用户的问题之后，对问题进行基础的处理
2. 对处理后的问题进行分类，判断其意图
3. 如果用户希望闲聊，那么调用闲聊模型返回结果
4. 如果用户希望咨询问题，那么调用问答模型返回结果

#### 3.2 闲聊模型

闲聊模型使用了seq2seq模型实现

包含：

1. 对数据的embedding
2. 编码层
3. attention机制的处理
4. 解码层

![](..\images\2.1\chabot.png)

#### 3.4 问答模型

问答模型使用了召回和排序的机制来实现，保证获取的速度的同时保证了准确率

1. 问题分析：对问题进行基础的处理，包括分词，词性的获取，词向量的获取
2. 问题的召回：通过机器学习的方法进行海选，海选出大致满足要求的相似问题的前K个
3. 问题的排序：通过深度学习的模型对问题计算准确率，进行排序
4. 设置阈值，返回结果

![](..\images\2.1\QAbot.png)