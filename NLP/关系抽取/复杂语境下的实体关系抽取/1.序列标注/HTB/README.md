# A Novel Cascade Binary Tagging Framework for Relational Triple Extraction

# 一种用于关系三重提取的新型级联二进制标记框架



##  摘要

从非结构化文本中提取关系三元组对于大规模知识图谱构建至关重要。然而，很少有现有作品擅长解决重叠三元组问题，即同一句子中的多个关系三元组共享相同的实体。在这项工作中，我们引入了一个新的视角来重新审视关系三元组提取任务，并提出了一种从原则问题公式推导出来的新型级联二进制标记框架 (CASREL)。我们的新框架不像以前的工作那样将关系视为离散标签，而是将关系建模为将主语映射到句子中的宾语的函数，这自然地处理了重叠问题。 实验表明，即使其编码器模块使用随机初始化的 BERT 编码器，CASREL 框架也已经优于最先进的方法，显示了新标记框架的强大功能。当采用预训练的 BERT 编码器时，它的性能进一步提升，在两个公共数据集 NYT 和 WebNLG 上的 F1 分数绝对增益分别超过最强基线 17.5 和 30.2。 对重叠三元组的不同场景的深入分析表明，该方法在所有这些场景中都提供了一致的性能增益。 源代码和数据在线发布1。

## 1 前言

知识图谱的关键成分是关系事实，其中大部分由通过语义关系连接的两个实体组成。 这些事实的形式是（主语、关系、客体）或（s, r, o），称为关系三元组。 从自然语言文本中提取关系三元组是构建大规模知识图谱的关键一步。

![](https://gitee.com/Xiaoyingzi09/note-book/raw/master/NLP/%E5%85%B3%E7%B3%BB%E6%8A%BD%E5%8F%96/%E5%A4%8D%E6%9D%82%E8%AF%AD%E5%A2%83%E4%B8%8B%E7%9A%84%E5%AE%9E%E4%BD%93%E5%85%B3%E7%B3%BB%E6%8A%BD%E5%8F%96/1.%E5%BA%8F%E5%88%97%E6%A0%87%E6%B3%A8/HTB/figure/figure_1.png)

图 1：Normal、EntityPairOverlap (EPO) 和 SingleEntityOverlap (SEO) 重叠模式的示例。

关系三重提取的早期工作采用了流水线方法（Zelenko 等人，2003 年；Zhou 等人，2005 年；Chan 和 Roth，2011 年）。 它首先识别句子中的所有实体，然后对每个实体对进行关系分类。 这种方法往往会遇到错误传播问题，因为早期阶段的错误无法在后期纠正。 为了解决这个问题，后续工作提出了实体和关系的联合学习，其中包括基于特征的模型（Yu 和 Lam，2010；Li 和 Ji，2014；Miwa 和 Sasaki，2014；Ren 等，2017）和， 最近，基于神经网络的模型（Gupta 等人，2016 年；Katiyar 和 Cardie，2017 年；Zheng 等人，2017 年；Zeng 等人，2018 年；Fu 等人，2019 年）。 通过用学习的表征替换人工构建的特征，基于神经网络的模型在三重提取任务中取得了相当大的成功。

然而，大多数现有方法无法有效处理句子包含多个相互重叠的关系三元组的场景。 图 1 说明了这些场景，其中三元组在一个句子中共享一个或两个实体。 这个重叠的三重问题直接挑战了传统的序列标记方案，假设每个标记只带有一个标签（Zheng 等，2017）。 这也给关系分类方法带来了很大的困难，其中实体

然而，大多数现有方法无法有效处理句子包含多个相互重叠的关系三元组的场景。 图 1 说明了这些场景，其中三元组在一个句子中共享一个或两个实体。 这个重叠的三重问题直接挑战了传统的序列标记方案，假设每个标记只带有一个标签（Zheng 等，2017）。 这也给关系分类方法带来了很大的困难，其中假设实体对最多持有一个关系（Miwa 和 Bansal，2016 年）。 曾等人。  (2018) 是最早在关系三元组提取中考虑重叠三元组问题的人之一。 他们介绍了不同重叠模式的类别，如图 1 所示，并提出了一种具有复制机制的序列到序列 (Seq2Seq) 模型来提取三元组。 基于 Seq2Seq 模型，他们进一步研究了提取顺序的影响 (Zeng et al., 2019) 并通过强化学习获得了相当大的改进。 傅等人。  (2019) 还通过使用基于图卷积网络 (GCN) 的模型将文本建模为关系图来研究重叠三元组问题。

尽管取得了成功，但之前提取重叠三元组的工作仍有很多不足之处。 具体来说，它们都将关系视为要分配给实体对的离散标签。 这种公式使关系分类成为一个困难的机器学习问题。 首先，类别分布高度不平衡。 在所有提取的实体对中，大多数没有形成有效的关系，产生了太多的反例。 其次，当同一实体参与多个有效关系（重叠三元组）时，分类器可能会混淆。 如果没有足够的训练样本，分类器很难判断实体参与了哪个关系。因此，提取的三元组通常是不完整和不准确的。

在这项工作中，我们从三元级别的关系三元提取的原则性公式开始。 这产生了通过设计处理重叠三元组问题的通用算法框架。 该框架的核心是全新的观点，即我们可以将关系建模为将主体映射到客体的函数，而不是将关系视为实体对上的离散标签。 更准确地说，我们不是学习关系分类器 f(s, o) → r，而是学习特定关系标记器 fr(s) → o，每个标记器都识别特定关系下给定主题的可能对象； 或不返回任何对象，表示没有给定主题和关系的三元组。 在这个框架下，三重抽取是一个两步过程：首先我们识别一个句子中所有可能的主语； 然后对于每个主题，我们应用特定关系标记器来同时识别所有可能的关系和相应的对象。

我们在 CASREL 中实现了上述想法，这是一个端到端的级联二进制标记框架。 它由一个基于 BERT 的编码器模块、一个主题标记模块和一个特定于关系的对象标记模块组成。 实证实验表明，即使未对 BERT 编码器进行预训练，所提出的框架也大大优于最先进的方法，显示出新框架本身的优越性。 在采用预训练的 BERT 编码器后，该框架获得了更大的性能提升，显示了丰富的先验知识在三重提取任务中的重要性。
   这项工作有以下主要贡献：

1. 我们引入了一个新的视角来重新审视具有原则性问题的关系三元组提取任务，这意味着一个通用的算法框架，可以通过设计解决重叠的三元组问题。
2. 我们将上述框架实例化为一个位于 Transformer 编码器之上的新型级联二进制标记模型。 这允许模型将新颖的标记框架的强大功能与预训练的大规模语言模型中的先验知识相结合。
3. 在两个公共数据集上的大量实验表明，所提出的框架压倒性地优于最先进的方法，在两个数据集上的 F1 分数分别获得了 17.5 和 30.2 的绝对增益。详细分析表明，我们的模型在所有场景中都获得了一致的改进。

## 2 相关工作

从非结构化自然语言文本中提取关系三元组是信息提取 (IE) 中一项经过充分研究的任务。 它也是构建大规模知识图谱（KG）的重要步骤，例如 DBpedia（Auer 等，2007）、Freebase（Bollacker 等，2008）和 Knowledge Vault（Dong 等，2014）。

早期工作（Mintz 等人，2009 年；Gormley 等人，2015 年）以流水线方式处理任务。 他们通过两个单独的步骤提取关系三元组：1）首先对输入句子运行命名实体识别（NER）以识别所有实体，2）然后对提取的实体对运行关系分类（RC）。 流水线方法通常会遇到错误传播问题并且忽略了两个步骤之间的相关性。 为了缓解这些问题，已经提出了许多旨在共同学习实体和关系的联合模型。 传统的联合模型（Yu 和 Lam，2010；Li 和 Ji，2014；Miwa 和 Sasaki，2014；Ren 等，2017）是基于特征的，严重依赖特征工程，需要大量的人工工作。
   为了减少手动工作，最近的研究调查了基于神经网络的方法，这些方法提供了最先进的性能。 然而，大多数现有的神经模型（如（Miwa 和 Bansal，2016）仅通过参数共享而非联合解码来实现实体和关系的联合学习。 为了获得关系三元组，他们仍然必须将检测到的实体对通过管道传输到关系分类器，以识别实体之间的关系。
   分离的解码设置导致实体和关系的训练目标分离，这带来了无法充分利用预测实体和关系之间的三层依赖关系的缺点。 与这些作品不同的是，郑等人。  (2017) 通过引入统一标记方案实现联合解码，并将关系三元组提取任务转换为端到端序列标记问题，无需 NER 或 RC。 由于实体和关系的信息被集成到统一的标记方案中，所提出的方法可以在三元组级别直接将关系三元组建模为一个整体。

尽管联合模型（有或没有联合解码）已经得到很好的研究，但大多数以前的工作都忽略了重叠关系三元组的问题。 曾等人。  (2018) 介绍了三种重叠三元组模式，并尝试通过具有复制机制的序列到序列模型来解决该问题。 最近，傅等人。  (2019) 也研究了这个问题并提出了一种基于图卷积网络 (GCN) 的方法。 尽管最初取得了成功，但这两种方法仍将关系视为实体对的离散标签，这使得模型很难学习重叠的三元组。

我们的框架基于一个训练目标，该目标经过精心设计，可以像 (Zheng et al., 2017) 那样直接对关系三元组进行整体建模，即通过联合解码来学习实体和关系。 此外，我们将关系建模为将主体映射到对象的函数，这使其与以前的作品截然不同。

## 3 CASREL框架

关系三元组提取的目标是识别句子中所有可能的（主语、关系、宾语）三元组，其中一些三元组可能与主语或宾语共享相同的实体。 为了这个目标，我们直接对三元组进行建模，并在三元组层面设计一个训练目标。 这与之前的方法（Fu et al., 2019）形成对比，其中训练目标是为实体和关系单独定义的，而没有在三重级别上对其集成进行明确建模。正式地，给定来自训练集 D 的带注释的句子 xj 和一组可能重叠的三元组 Tj = {(s, r, o)} 在 xj 中，我们的目标是最大化训练集 D 的数据可能性：

![](https://gitee.com/Xiaoyingzi09/note-book/raw/master/NLP/%E5%85%B3%E7%B3%BB%E6%8A%BD%E5%8F%96/%E5%A4%8D%E6%9D%82%E8%AF%AD%E5%A2%83%E4%B8%8B%E7%9A%84%E5%AE%9E%E4%BD%93%E5%85%B3%E7%B3%BB%E6%8A%BD%E5%8F%96/1.%E5%BA%8F%E5%88%97%E6%A0%87%E6%B3%A8/HTB/figure/formula_1.png)

这里我们稍微滥用了符号 Tj。  s ∈ Tj 表示一个主题出现在 Tj 的三元组中。Tj|s 是 Tj 中由主题 s 引导的三元组的集合。(r, o) ∈ Tj|s 是 Tj 中主题 s 领导的三元组中的 (r, o) 对。  R 是所有可能关系的集合。R\Tj|s 表示除 Tj 中由 s 领导的关系之外的所有关系。  o∅ 表示一个“空”对象（解释如下）。

等式 (2) 应用概率链式法则。等式 (3) 利用了一个关键事实，即对于给定的主语 s，任何与 s 相关的关系（那些在 Tj|s 中的关系）都将导致句子中相应的宾语，而所有其他关系在句子中必然没有宾语，即 “空”对象。

这种配方提供了几个好处。 首先，由于数据似然是从三元层开始的，优化这个似然对应于直接优化三元层的最终评价标准。 其次，通过不假设多个三元组如何在一个句子中共享实体，它通过设计处理了重叠的三元组问题。第三，方程中的分解。  (3) 启发了一种新的三元提取标注方案：我们学习了一个识别句子中主语实体的主语标注器 p(s|xj)； 对于每个关系 r，我们学习了一个对象标记器 pr(o|s, xj)，它识别给定主题的特定关系对象。 通过这种方式，我们可以将每个关系建模为一个将主体映射到客体的函数，而不是对（主体、客体）对的关系进行分类。

事实上，这种新颖的标记方案允许我们一次提取多个三元组：我们首先运行主题标记器以查找句子中所有可能的主题，然后对于找到的每个主题，应用特定于关系的对象标记器来查找所有相关关系和 对应的对象。

上述通用框架中的关键组件，即主题标注器和特定关系的对象标注器，可以通过多种方式实例化。在本文中，我们在深度双向 Transformer BERT（Devlin 等人，2019）之上将它们实例化为二进制标记器。 我们在下面描述它的细节。

#### 3.1 BERT编码器

编码器模块从句子 xj 中提取特征信息 xj，这些信息将输入后续的标记模块 2。 我们采用预训练的 BERT 模型（Devlin 等人，2019 年）对上下文信息进行编码。

在这里，我们简要回顾一下 BERT，一种基于多层双向 Transformer 的语言表示模型。 它旨在通过联合调节每个单词的左右上下文来学习深度表示，并且最近在许多下游任务中被证明非常有效（Zhong 等人，2019）。 具体来说，它是由一堆 N 个相同的 Transformer 块组成的。

我们将 Transformer 块表示为 Trans(x)，其中 x 表示输入向量。 详细操作如下：

![](https://gitee.com/Xiaoyingzi09/note-book/raw/master/NLP/%E5%85%B3%E7%B3%BB%E6%8A%BD%E5%8F%96/%E5%A4%8D%E6%9D%82%E8%AF%AD%E5%A2%83%E4%B8%8B%E7%9A%84%E5%AE%9E%E4%BD%93%E5%85%B3%E7%B3%BB%E6%8A%BD%E5%8F%96/1.%E5%BA%8F%E5%88%97%E6%A0%87%E6%B3%A8/HTB/figure/formula_2.png)

其中 S 是输入句子中 subwords3 索引的 one-hot 向量矩阵，Ws 是子词嵌入矩阵，Wp 是位置嵌入矩阵，其中 p 表示输入序列中的位置索引，hα 是隐藏状态向量 ，即输入句子在第 α 层的上下文表示，N 是 Transformer 块的数量。 请注意，在我们的工作中，输入是单个文本句子而不是句子对，因此原始 BERT 论文中描述的分割嵌入在等式中没有考虑在内。  (4). 有关 Transformer 结构的更全面描述，我们向读者推荐（Vaswani 等，2017）。

#### 3.2 CasCade 解码器 （级联解码器）

现在，我们描述了受先前公式启发的新型级联二进制标记方案的实例化。 基本思想是在两个级联步骤中提取三元组。 首先，我们从输入的句子中检测主语。 然后对于每个候选主语，我们检查所有可能的关系，看看一个关系是否可以将句子中的对象与该主语相关联。 对应于这两个步骤，级联解码器由两个模块组成，如图 2 所示：主题标记器； 和一组特定于关系的对象标记器。

**主题标注器**低级标注模块旨在通过直接解码由 N 层 BERT 编码器产生的编码向量 hN 来识别输入句子中所有可能的主题。
更准确地说，它采用两个相同的二元分类器通过为每个令牌分配一个二进制标签（0/1）来分别检测主题的开始和结束位置，该标签指示当前令牌是对应于主题的开始位置还是结束位置。 主题标注器对每个token的详细操作如下： 

![](https://gitee.com/Xiaoyingzi09/note-book/raw/master/NLP/%E5%85%B3%E7%B3%BB%E6%8A%BD%E5%8F%96/%E5%A4%8D%E6%9D%82%E8%AF%AD%E5%A2%83%E4%B8%8B%E7%9A%84%E5%AE%9E%E4%BD%93%E5%85%B3%E7%B3%BB%E6%8A%BD%E5%8F%96/1.%E5%BA%8F%E5%88%97%E6%A0%87%E6%B3%A8/HTB/figure/formula_3.png)

其中 pstart s i 和 pend s i 分别表示将输入序列中的第 i 个标记识别为主题的开始和结束位置的概率。 如果概率超过某个阈值，则相应的令牌将被分配标签 1，否则将被分配标签 0。  xi 是输入序列中第 i 个标记的编码表示，即 xi = hN[i]，其中 W(·) 表示可训练权重，b(·) 是偏差，σ 是 sigmoid 激活函数 .

主题标注器优化以下似然函数以识别给定句子表示 x 的主题 s 的跨度：

![](https://gitee.com/Xiaoyingzi09/note-book/raw/master/NLP/%E5%85%B3%E7%B3%BB%E6%8A%BD%E5%8F%96/%E5%A4%8D%E6%9D%82%E8%AF%AD%E5%A2%83%E4%B8%8B%E7%9A%84%E5%AE%9E%E4%BD%93%E5%85%B3%E7%B3%BB%E6%8A%BD%E5%8F%96/1.%E5%BA%8F%E5%88%97%E6%A0%87%E6%B3%A8/HTB/figure/formula_4.png)

其中 L 是句子的长度。 如果 z 为真，则 I{z} = 1，否则为 0。  ystart s i 是x中第i个token的主题开始位置的二进制标签，yend s i 表示主题结束位置。 参数 θ = {Wstart, bstart, Wend, ben}。

![](https://gitee.com/Xiaoyingzi09/note-book/raw/master/NLP/%E5%85%B3%E7%B3%BB%E6%8A%BD%E5%8F%96/%E5%A4%8D%E6%9D%82%E8%AF%AD%E5%A2%83%E4%B8%8B%E7%9A%84%E5%AE%9E%E4%BD%93%E5%85%B3%E7%B3%BB%E6%8A%BD%E5%8F%96/1.%E5%BA%8F%E5%88%97%E6%A0%87%E6%B3%A8/HTB/figure/figure_2.png)

图 2：提议的 CASREL 框架概述。 在此示例中，在低级别检测到三个候选对象，而在高级别呈现的 0/1 标签特定于第一个对象 Jackie R. Brown，即显示了 k = 1 时迭代状态的快照 如上。 对于后续的迭代（k = 2, 3），高层的结果会发生变化，反映检测到的三元组不同。 例如，当k = 2时，高级橙色（绿色）块将分别变为0（1），反映由第二个候选主题华盛顿领导的关系三元组（华盛顿，美国首都）。

对于多主题检测，我们采用最近的开始-结束对匹配原则，根据开始和结束位置标注器的结果来决定任何主题的跨度。 例如，如图 2 所示，距离第一个开始标记“Jackie”最近的结束标记是“Brown”，因此第一个主题跨度的检测结果将是“Jackie R.棕色的”。 值得注意的是，为了匹配给定开始标记的结束标记，我们不考虑位置在给定标记位置之前的标记。如果由于给定句子中任何实体跨度的自然连续性而正确检测到开始和结束位置，则这种匹配策略能够保持任何实体跨度的完整性。

**特定关系对象标记器**高级标记模块同时识别对象以及与在较低级别获得的主题相关的关系。 如图 2 所示，它由一组关系特定的对象标记器组成，其结构与低级模块中的主题标记器相同，用于所有可能的关系。 所有对象标记器将同时为每个检测到的对象识别相应的对象。与直接解码编码向量 hN 的主题标注器不同，特定关系的对象标注器也考虑了主题特征。关系特定对象标记器对每个令牌的详细操作如下： 

![](https://gitee.com/Xiaoyingzi09/note-book/raw/master/NLP/%E5%85%B3%E7%B3%BB%E6%8A%BD%E5%8F%96/%E5%A4%8D%E6%9D%82%E8%AF%AD%E5%A2%83%E4%B8%8B%E7%9A%84%E5%AE%9E%E4%BD%93%E5%85%B3%E7%B3%BB%E6%8A%BD%E5%8F%96/1.%E5%BA%8F%E5%88%97%E6%A0%87%E6%B3%A8/HTB/figure/formula_5.png)

其中pstart oi和pend oi分别表示将输入序列中第i个token识别为对象的开始和结束位置的概率，vk sub表示low level module中检测到的第k个主题的编码表示向量 .

对于每个主题，我们对其进行迭代应用相同的解码过程。 请注意，主题通常由多个标记组成，以在等式中添加 xi 和 vk sub。  (9) 和方程。  (10) 可能，我们需要保持两个向量的维数一致。 为此，我们将第 k 个主题的开始和结束标记之间的平均向量表示作为 vk sub。

关系 r 的对象标记器优化了以下似然函数，以识别给定句子表示 x 和主题 s 的对象 o 的跨度：

![](https://gitee.com/Xiaoyingzi09/note-book/raw/master/NLP/%E5%85%B3%E7%B3%BB%E6%8A%BD%E5%8F%96/%E5%A4%8D%E6%9D%82%E8%AF%AD%E5%A2%83%E4%B8%8B%E7%9A%84%E5%AE%9E%E4%BD%93%E5%85%B3%E7%B3%BB%E6%8A%BD%E5%8F%96/1.%E5%BA%8F%E5%88%97%E6%A0%87%E6%B3%A8/HTB/figure/formula_6.png)

其中ystart o i 是x 中第i 个token 的对象起始位置的二进制标签，而yend o i 是第i 个token 的对象结束位置的标签。 对于“空”对象 o∅，对于所有 i，标签 ystart o∅ i = yend o∅ i = 0。参数φr = {Wr start, br start, Wr end, br end}。

请注意，在高级标记模块中，关系也由对象标记器的输出决定。 例如，检测到的对象“Jackie R.”之间不存在“Work in”关系。Brown”和候选对象“Washington”。因此，关系“Work in”的对象标注器不会识别“Washington”的跨度，即开始和结束位置的输出都为零，如图2所示。 相反，关系“出生地”成立 “Jackie R. Brown”和“Washington”之间，因此对应的对象标注器输出候选对象“Washington”的跨度。 在这种情况下，高级模块能够同时识别与低级模块中检测到的主题相关的关系和对象。

#### 3.2 Data Log-likelihood Objective (数据对数似然目标)

记录方程的日志。  (3)、目标J(Θ)为：

![](https://gitee.com/Xiaoyingzi09/note-book/raw/master/NLP/%E5%85%B3%E7%B3%BB%E6%8A%BD%E5%8F%96/%E5%A4%8D%E6%9D%82%E8%AF%AD%E5%A2%83%E4%B8%8B%E7%9A%84%E5%AE%9E%E4%BD%93%E5%85%B3%E7%B3%BB%E6%8A%BD%E5%8F%96/1.%E5%BA%8F%E5%88%97%E6%A0%87%E6%B3%A8/HTB/figure/formula_7.png)

其中参数 Θ = {θ, {φr}r∈R}。  pθ(s|x) 在等式中定义。  (8) 和 pφr(o|s, x) 在等式中定义。  (11)。 我们通过 Adam 随机梯度下降（Kingma 和 Ba，2014）在洗牌小批量上最大化 J(Θ) 来训练模型。

## 4 实验

#### 4.1 实验设置

数据集和评估指标我们在两个公共数据集 NYT（Riedel 等人，2010）和 WebNLG（Gardent 等人，2017 年）上评估框架。NYT 数据集最初是通过远程监督方法产生的。 它由 118 万个句子和 24 种预定义的关系类型组成。  WebNLG 数据集最初是为自然语言生成 (NLG) 任务创建的，并由 (Zeng et al., 2018) 改编用于关系三重提取任务。 它包含 246 个预定义的关系类型。 两个数据集中的句子通常包含多个关系三元组，因此 NYT 和 WebNLG 数据集非常适合作为评估模型提取重叠关系三元组的测试平台。 我们使用 (Zeng et al., 2018) 发布的数据集，其中 NYT 包含 56195 个训练句子、5000 个验证句子和 5000 个测试句子，WebNLG 包含 5019 个训练句子、500 个验证句子和 703 个句子 用于测试。 根据关系三元组的不同重叠模式，我们将句子分为正常、实体对重叠（EPO）和单实体重叠（SEO）三类，对不同类型的重叠关系三元组进行详细实验。 两个数据集的统计数据如表 1 所示。

![](https://gitee.com/Xiaoyingzi09/note-book/raw/master/NLP/%E5%85%B3%E7%B3%BB%E6%8A%BD%E5%8F%96/%E5%A4%8D%E6%9D%82%E8%AF%AD%E5%A2%83%E4%B8%8B%E7%9A%84%E5%AE%9E%E4%BD%93%E5%85%B3%E7%B3%BB%E6%8A%BD%E5%8F%96/1.%E5%BA%8F%E5%88%97%E6%A0%87%E6%B3%A8/HTB/figure/table_1.png)

表 1：数据集的统计数据。 请注意，一个句子可以同时属于 EPO 类和 SEO 类。

根据之前的工作（Fu et al., 2019），只有当主客体的关系和头部都正确时，提取的关系三元组（主语、关系、宾语）才被认为是正确的。为了公平比较，我们报告了与基线一致的标准微精度 (Prec.)、召回 (Rec.) 和 F1 分数。

**实现细节** 在验证集上确定超参数。 更多的实现细节在附录 A 中描述。

![](https://gitee.com/Xiaoyingzi09/note-book/raw/master/NLP/%E5%85%B3%E7%B3%BB%E6%8A%BD%E5%8F%96/%E5%A4%8D%E6%9D%82%E8%AF%AD%E5%A2%83%E4%B8%8B%E7%9A%84%E5%AE%9E%E4%BD%93%E5%85%B3%E7%B3%BB%E6%8A%BD%E5%8F%96/1.%E5%BA%8F%E5%88%97%E6%A0%87%E6%B3%A8/HTB/figure/table_2.png)

表 2：不同方法在 NYT 和 WebNLG 数据集上的结果。 我们的重新实现用 * 标记。

#### 4.2 实验结果

**比较方法 **我们将我们的模型与几个强大的最先进模型进行比较，即 NovelTagging (Zheng et al., 2017)、CopyR (Zeng et al., 2018)、GraphRel (Fu et al., 2019) 和 CopyRRL（Zeng 等，2019）。 上述基线的报告结果直接从原始发表的文献中复制而来。

请注意，我们在预先训练的 BERT 模型之上实例化 CASREL 框架，以结合所提出的新颖标记方案的强大功能和预先学习的先验知识，以获得更好的性能。 为了评估引入基于 Transformer 的 BERT 模型的影响，我们进行了一组消融测试。  CASRELrandom是BERT所有参数随机初始化的框架；  CASRELLSTM 是在基于 LSTM 的结构上实例化的框架，如 (Zheng et al., 2017) 和预训练手套嵌入 (Pennington et al., 2014)；  CASREL 是使用预训练 BERT 权重的成熟框架。

**主要结果** 表 2 显示了在两个数据集上进行关系三元组提取的不同基线的结果。  CASREL 模型在所有三个评估指标方面都压倒性地优于所有基线，并且在 F1 分数方面取得了令人鼓舞的 17.5% 和 30.2% 的改进，比纽约时报上的最佳最先进方法（Zeng 等人，2019）和 分别为 WebNLG 数据集。 即使没有利用预训练的 BERT，CASRELrandom 和 CASRELLSTM 仍然可以与现有的最先进模型竞争。 这验证了所提出的采用新型二进制标记方案的级联解码器的实用性。 从 CASRELrandom 到 CASREL 的性能改进突出了预训练语言模型中先验知识的重要性。

我们还可以从表中观察到，现有模型在 NYT 和 WebNLG 数据集上的性能存在显着差距，我们认为这种差距是由于它们在处理重叠三元组方面存在缺陷。 更准确地说，如表 1 所示，我们可以发现 NYT 数据集主要由 Normal 类句子组成，而 WebNLG 数据集中的大部分句子属于 EPO 和 SEO 类。 两个数据集的这种不一致的数据分布导致所有基线在 NYT 上的性能相对较好，而在 WebNLG 上的性能较差，暴露了它们在提取重叠关系三元组方面的缺点。 相比之下，CASREL 模型及其变体（即 CASRELrandom 和 CASRELLSTM）在 NYT 和 WebNLG 数据集上都实现了稳定且具有竞争力的性能，证明了所提出的框架在解决重叠问题方面的有效性。

**不同类型句子的详细结果**为了进一步研究所提出的 CASREL 框架在提取重叠关系三元组方面的能力，我们对不同类型的句子进行了两个扩展实验，并将性能与以前的作品进行比较。

三种不同重叠模式的详细结果如图 3 所示。可以看出，大多数基线在 Normal、EPO 和 SEO 上的性能呈现下降趋势，反映了从具有不同重叠模式的句子中提取关系三元组的难度越来越大。 也就是说，在三种重叠模式中，Normal 类是最容易提取的模式，而 EPO 和 SEO 类是基线模型相对较难提取的模式。 相比之下，提出的 CASREL 模型在所有三个重叠模式上都获得了一致的强大性能，特别是对于那些硬模式。 我们还验证了 CASREL 从具有不同数量的三元组的句子中提取关系三元组的能力。 我们将句子分为五类，表 3 显示了结果。 再次，CASREL 模型在所有五个类中都取得了出色的性能。 尽管发现大多数基线的性能随着句子包含的关系三元组数量的增加而下降并不奇怪，但从不同模型的性能变化中仍然可以观察到一些模式。与之前致力于解决关系三元组提取中重叠问题的工作相比，我们的模型受到输入句子复杂性增加的影响最小。 尽管与最佳的最新方法 CopyRRL（Zeng 等人，2019）相比，CASREL 模型在所有五个类别上都获得了相当大的改进，但两个数据集上 F1 分数的最大改进都来自于最困难的 类（N≥5），表明我们的模型比基线更适合复杂的场景。

![](https://gitee.com/Xiaoyingzi09/note-book/raw/master/NLP/%E5%85%B3%E7%B3%BB%E6%8A%BD%E5%8F%96/%E5%A4%8D%E6%9D%82%E8%AF%AD%E5%A2%83%E4%B8%8B%E7%9A%84%E5%AE%9E%E4%BD%93%E5%85%B3%E7%B3%BB%E6%8A%BD%E5%8F%96/1.%E5%BA%8F%E5%88%97%E6%A0%87%E6%B3%A8/HTB/figure/figure_3.png)

图 3：从具有不同重叠模式的句子中提取关系三元组的 F1 分数。

![](https://gitee.com/Xiaoyingzi09/note-book/raw/master/NLP/%E5%85%B3%E7%B3%BB%E6%8A%BD%E5%8F%96/%E5%A4%8D%E6%9D%82%E8%AF%AD%E5%A2%83%E4%B8%8B%E7%9A%84%E5%AE%9E%E4%BD%93%E5%85%B3%E7%B3%BB%E6%8A%BD%E5%8F%96/1.%E5%BA%8F%E5%88%97%E6%A0%87%E6%B3%A8/HTB/figure/table_3.png)

表 3：从三元组数不同（记为 N）的句子中提取关系三元组的 F1-score。

这两个实验都验证了优越的提议的级联二进制标记框架的真实性-提取多个（可能重叠）的工作来自复杂句子的关系三元组与现有方法相比。 以前的作品有明确预测所有可能的关系类型包含在一个给定的句子中，这是一个相当大的挑战延长任务，因此缺少许多关系在他们提取的结果中。 相比之下，我们的 CASREL模型回避关系类型的预测并且倾向于提取尽可能多的关系三元组可能来自给定的句子。 我们将此归因于到高关系特定对象标记器设置级联解码器的级别标记模块同时考虑所有关系类型。

## 5 总结

在本文中，我们介绍了一种新颖的级联双 一元标记框架 (CASREL) 派生自 关系的原则性问题表述 三重萃取。 而不是将关系建模为 实体对的离散标签，我们对重新建模 作为将主体映射到客体的函数， 提供了一个全新的视角来重新审视 关系三重提取任务。 结果， 我们的模型可以同时提取多个重 句子中的关系三元组，没有痛苦 从重叠问题。 我们进行扩展 在两个广泛使用的数据集上进行的实验 验证提议的 CASREL 的有效性 框架。 实验结果表明，我们的 模型压倒性地优于当前状态 不同场景下的艺术基线，尤其是在重叠关系三元组的提取。 







